# Câu 6: Bài tập đêm Giáng Sinh (6,0 điểm)
- Cô Tuyết chuẩn bị một bài tập đặc biệt dành cho các bạn trong đội tuyển học sinh giỏi vào giáng sinh năm nay. Đó là một bài tập về thứ tự từ điển với đề bài như sau:
- Cho một dãy số khác rỗng $C=[C_{1}, C_{2}... C_{M}]$ thỏa mãn ${C_i} \ne {C_{i - 1}},\forall i = 2,3,...M$ . Ta gọi một cách *phân đoạn đáy* là một cách chia dãy thành các đoạn con chứa các phần tử liên tiếp, mà mỗi phần tử đều thuộc đúng một đoạn con. Một cách phân đoạn dãy được coi là *hợp lệ*  nếu mỗi đoạn con chỉ chứa các phần tử đôi một phân biệt.
- Ví dụ, với $M=10$ và dãy $C=[1,2,4,3,2,1,2,8,6,8]$ thì một cách phân đoạn dãy hợp lệ là chia dãy $C$ thành 4 đoạn con lần lượt là $[1,2,4,3],[2,1],[2,8],[6,8]$ .
- Một cách phân đoạn hợp lệ khác là chia dãy $C$ thành 5 đoạn con lần lượt là $[1,2,4], [3,2,1], [2,8], [6], [8]$ .
- Cả hai cách phân đoạn dãy trên đều thỏa mãn mọi đoạn con chỉ chứa các phần tử đôi một phân biệt. Mặt khác, nếu ta chia dãy $C$ thành 4 đoạn con lần lượt là 
